{% extends 'base.html' %}
{% block title %}Sign Up{% endblock %}
{% block content %}
	<nav class="navbar navbar-expand-lg navbar-dark bg-success sticky-top">
		<a class="navbar-brand" href="{{ url_for('index') }}">Tournaments</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
			<div class="navbar-nav ml-auto">
				{% if user %}
					<a class="nav-item nav-link" href="{{ url_for('user') }}">{{ user.name }} {{ user.surname }}</a>
					{% if user.admin %}
						<a class="nav-item nav-link" href="{{ url_for('admin') }}">admin</a>
					{% endif %}
				{% else %}
					<a class="nav-item nav-link" href="{{ url_for('login') }}">sign in</a>
				{% endif %}
			</div>
		</div>
	</nav>


	<div class="container py-5">
		<h2 class="text-center text-uppercase">Update your account {{ user.name }}!</h2>
		<div class="row my-5">
			<div class="col">
				<h5 class="mx-auto w-50">Your current data:</h5>
				<ul class="mx-auto w-50">
					<li><u><i>Name</i></u>:<br> {{ user.name }}</li>
					<li><u><i>Surname</i></u>:<br> {{ user.surname }}</li>
					<li><u><i>Email</i></u>:<br> {{ user.email }}</li>
					<li><u><i>pass</i></u>:<br> {{ user.password }}</li>
				</ul>
			</div>
			<div class="col">
				<h5 class="mx-auto w-50">Update data:</h5>
				<form method="POST" class="mx-auto my-2 w-50">
					<div class="form-group">
						<label for="userName">Name</label>
						<input type="text" class="form-control" id="userName" name="name" value="{{ user.name }}">
					</div>
					<div class="form-group">
						<label for="userSurname">Surname</label>
						<input type="text" class="form-control" id="userSurname" name="surname" value="{{ user.surname }}">
					</div>

					<div class="form-group">
						<label for="userEmail">Email address</label>
						<input type="email" class="form-control" id="userEmail" name="email" value="{{ user.email }}">
					</div>
					<div class="form-group">
						<label for="userPassword">Password</label>
						<input type="password" class="form-control" id="userPassword" name="password" value="{{ user.password }}">
					</div>
					<div class="form-group">
						<label for="confirmPassword">Confirm password</label>
						<input type="password" class="form-control" id="confirmPassword" name="confirm_password" value="{{ user.password }}">
					</div>
					<button type="submit" class="btn btn-primary">Submit</button>
					{% with flash = get_flashed_messages() %}
						{% if flash %}
							{% for fl in flash %}
								<hr>
								<span class="error">{{fl}}</span>
							{% endfor %}
						{% endif %}
					{% endwith %}
				</form>
			</div>
		</div>
	</div>
{% endblock %}